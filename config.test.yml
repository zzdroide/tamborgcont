# This is not the most logical way to structure the data, but it's easy to loop in ansible.
users:
  - user: TAM_2009          # No dashes allowed in username. Must be quoted if all numbers.
    pubkey: ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIEEzh7eIUFgJy/CLTHN+B0wlq3QK0aTZz/0FVfKCtdA0
    repo: TAM
    ssh: t@10.0.0.100       # For automatic backups by borg-daily
    mac: 02:42:ac:11:00:0a  # WOL for automatic backups

  - user: AMGS
    pubkey: ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIMji6955pM7IL2rcaCYYJOxJcdMXY3fuXmB3itcOMTCw
    repo: AMGS
    ssh: am@andri.cl:2222   # Automatic backups over internet. WOL not supported.

  - user: old_laptop
    pubkey: ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAICJwCmpqfCPFg4vCj95Qx656XQwyaLEA+J1McvZR5gGw
    repo: TAM
    # No automatic backups if no ssh key.

repos:
  TAM:
    prune:
      # Must include keep_daily, and no keep_hourly or lower.
      keep_daily: 30
      keep_weekly: 13
      keep_monthly: 12
      keep_13weekly: 12
      keep_yearly: 6
      # Note: this is an unrealistically generous example,
      # which isn't workable in practice because it would eventually run out of space.

    # Try to choose a high threshold if the repo is going to be mirrored: https://github.com/borgbackup/borg/issues/635
    compaction_threshold: 20
    mirror_host: mirror.example.com

  AMGS:
    prune:
      keep_daily: 30
      keep_weekly: 13
      keep_monthly: 12
      keep_13weekly: 12
      keep_yearly: 6

force_weekly_until: 2026-01-01
weekly_healthcheck: https://hc-ping.com/your-uuid-here

smarthealthc:
  - [https://hc-ping.com/your-uuid-here, /dev/disk/by-id/ata-ST...]
